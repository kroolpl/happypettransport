---
---

<button
  id="floatingMenuButton"
  class="fixed bottom-20 right-4 z-[9998] md:hidden w-14 h-14 bg-cadet/90 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center text-white transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:bg-cadet animate-floating-subtle"
  aria-label="Toggle menu"
>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
  </svg>
</button>

<script>
  function initializeFloatingMenu() {
    const floatingButton = document.getElementById('floatingMenuButton');
    const menuButton = document.getElementById('menuButton');
    const mobileMenu = document.getElementById('mobileMenu');
    const body = document.body;

    function toggleMenu(show: boolean) {
      if (show) {
        mobileMenu?.classList.remove('translate-x-full');
        body.style.overflow = 'hidden';
      } else {
        mobileMenu?.classList.add('translate-x-full');
        body.style.overflow = '';
      }
    }

    // Handle floating button click
    floatingButton?.addEventListener('click', () => {
      const isMenuHidden = mobileMenu?.classList.contains('translate-x-full');
      toggleMenu(isMenuHidden);
    });

    // Handle original menu button click
    menuButton?.addEventListener('click', () => {
      const isMenuHidden = mobileMenu?.classList.contains('translate-x-full');
      toggleMenu(isMenuHidden);
    });
  }

  // Initialize on page load
  initializeFloatingMenu();

  // Re-initialize after view transitions
  document.addEventListener('astro:after-swap', initializeFloatingMenu);
</script> 